:root {
    --primary: #0056b3;
    --primary-dark: #004494;
    --secondary: #6c757d;
    --success: #28a745;
    --danger: #dc3545;
    --warning: #ffc107;
    --light: #f8f9fa;
    --dark: #343a40;
    --shadow: 0 4px 6px rgba(0,0,0,0.1);
}

body { 
    font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif; 
    background-color: #f4f6f8; 
    margin: 0; 
    padding: 0; 
    color: var(--dark);
    -webkit-font-smoothing: antialiased;
}

/* --- Utilitários --- */
.hidden { display: none !important; }

.btn { 
    padding: 10px 16px; 
    border: none; 
    border-radius: 6px; 
    cursor: pointer; 
    font-weight: 600; 
    font-size: 14px;
    transition: all 0.2s; 
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}
.btn:active { transform: translateY(1px); box-shadow: none; }

.btn-primary { background-color: var(--primary); color: white; }
.btn-primary:hover { background-color: var(--primary-dark); }

.btn-success { background-color: var(--success); color: white; }
.btn-danger { background-color: var(--danger); color: white; }
.btn-secondary { background-color: var(--secondary); color: white; }

/* --- Status --- */
.status-badge { 
    position: fixed; 
    bottom: 15px; 
    right: 15px; 
    padding: 6px 14px; 
    border-radius: 20px; 
    font-size: 12px; 
    font-weight: bold; 
    z-index: 9999; 
    box-shadow: var(--shadow);
    transition: background-color 0.3s;
}
.status-badge.online { background-color: var(--success); color: white; }
.status-badge.offline { background-color: var(--secondary); color: white; }

/* --- Telas de Login e Seleção --- */
.fullscreen-center { 
    min-height: 100vh; 
    display: flex; 
    flex-direction: column; 
    align-items: center; 
    justify-content: center; 
    background: linear-gradient(135deg, var(--primary), #003d80); 
    padding: 20px;
    box-sizing: border-box;
}

.login-box { 
    background: white; 
    padding: 40px 30px; 
    border-radius: 12px; 
    color: var(--dark); 
    width: 100%; 
    max-width: 400px; 
    text-align: center; 
    box-shadow: 0 10px 25px rgba(0,0,0,0.2); 
}

.login-logo { 
    max-width: 200px; 
    max-height: 100px;
    margin-bottom: 25px; 
    display: none;
    margin-left: auto; 
    margin-right: auto; 
}

.input-group { margin-bottom: 20px; text-align: left; }
.input-group label { display: block; margin-bottom: 8px; font-size: 14px; font-weight: 600; color: #555; }
.input-group input { 
    width: 100%; 
    padding: 12px; 
    border: 1px solid #ced4da; 
    border-radius: 6px; 
    font-size: 16px;
    box-sizing: border-box; 
    transition: border-color 0.2s;
}
.input-group input:focus { border-color: var(--primary); outline: none; }

.location-grid { 
    display: grid; 
    grid-template-columns: repeat(2, 1fr); 
    gap: 15px; 
    width: 100%; 
    margin-top: 25px; 
}

.btn-loc { 
    padding: 20px; 
    background: #fff; 
    border: 2px solid #e9ecef; 
    color: var(--primary); 
    border-radius: 10px; 
    font-weight: 700; 
    cursor: pointer; 
    transition: all 0.2s; 
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
}
.btn-loc:hover { 
    border-color: var(--primary); 
    background: #f0f7ff; 
    transform: translateY(-2px);
}
.btn-loc small { font-weight: normal; color: var(--secondary); margin-top: 5px; font-size: 12px; }

/* --- App Principal --- */
#app-content { display: none; padding-bottom: 60px; }

.app-header { 
    background: white; 
    padding: 15px 20px; 
    box-shadow: 0 2px 4px rgba(0,0,0,0.05); 
    display: flex; 
    justify-content: space-between; 
    align-items: center; 
    position: sticky; 
    top: 0; 
    z-index: 100; 
}
.header-title h1 { margin: 0; font-size: 18px; color: var(--dark); }
.header-title span { font-size: 12px; color: var(--secondary); display: block; margin-top: 2px;}

.toolbar { 
    padding: 15px 20px; 
    background-color: #fff;
    border-bottom: 1px solid #eee;
    display: flex; 
    flex-direction: column;
    gap: 15px; 
}
@media (min-width: 768px) {
    .toolbar { flex-direction: row; justify-content: space-between; }
}

.search-box { flex: 1; position: relative; width: 100%; }
.search-box input { 
    width: 100%; 
    padding: 12px 15px 12px 40px; 
    border-radius: 25px; 
    border: 1px solid #ddd; 
    outline: none; 
    background: #f8f9fa;
    box-sizing: border-box;
}
.search-icon { position: absolute; left: 12px; top: 50%; transform: translateY(-50%); color: #aaa; }

.action-buttons { display: flex; gap: 10px; overflow-x: auto; padding-bottom: 5px; }
.action-buttons button { white-space: nowrap; }

.stats-bar { padding: 15px 20px 5px 20px; font-size: 13px; color: var(--secondary); display: flex; justify-content: space-between; align-items: center;}

/* --- Grid de Cards --- */
.tower-grid { 
    display: grid; 
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); 
    gap: 20px; 
    padding: 20px; 
}

.card { 
    background: white; 
    border-radius: 12px; 
    box-shadow: var(--shadow); 
    overflow: hidden; 
    transition: transform 0.2s; 
    border-left: 5px solid var(--secondary); 
    display: flex;
    flex-direction: column;
}
.card:hover { transform: translateY(-3px); }

/* Status Cores */
.st-Operando { border-left-color: var(--success); }
.st-Falha { border-left-color: var(--danger); }
.st-Manutenção { border-left-color: var(--warning); }
.st-Desativada { border-left-color: var(--secondary); }

.card-header { padding: 12px 15px; border-bottom: 1px solid #f0f0f0; display: flex; justify-content: space-between; align-items: center; background: #fff; }
.status-pill { padding: 4px 12px; border-radius: 12px; font-size: 11px; font-weight: 700; background: #f0f2f5; color: #555; text-transform: uppercase; }

.warning-alert { background: #fff3cd; color: #856404; padding: 10px 15px; font-size: 12px; border-bottom: 1px solid #ffeeba; display: flex; align-items: center; gap: 8px; font-weight: bold; }

.card-body { padding: 15px; font-size: 13px; flex-grow: 1; }
.info-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; }
.info-item { display: flex; flex-direction: column; }
.info-label { color: #888; font-size: 10px; text-transform: uppercase; letter-spacing: 0.5px; margin-bottom: 2px;}
.info-value { font-weight: 600; color: #333; font-size: 13px; }
.text-red { color: var(--danger); font-weight: bold; }

.divider { grid-column: 1 / -1; height: 1px; background: #eee; margin: 8px 0; }
.obs-box { margin-top: 12px; background: #fff8e1; padding: 10px; border-radius: 6px; font-style: italic; color: #666; border: 1px solid #ffeeba; font-size: 12px; }

.card-footer { padding: 12px 15px; background: #f8f9fa; border-top: 1px solid #eee; display: flex; justify-content: flex-end; gap: 10px; }
.btn-card { padding: 6px 14px; border: 1px solid #ddd; background: white; border-radius: 6px; cursor: pointer; font-size: 12px; font-weight: 600; transition: 0.2s; color: #555; }
.btn-card:hover { background-color: #eee; }
.btn-edit { color: var(--primary); border-color: var(--primary); }
.btn-edit:hover { background-color: var(--primary); color: white; }
.btn-pdf-single { color: var(--danger); border-color: var(--danger); }
.btn-pdf-single:hover { background-color: var(--danger); color: white; }

/* --- Modal --- */
.modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.6); z-index: 1000; overflow-y: auto; backdrop-filter: blur(3px); }
.modal-content { background: white; margin: 20px auto; padding: 0; width: 95%; max-width: 800px; border-radius: 12px; position: relative; box-shadow: 0 15px 40px rgba(0,0,0,0.2); animation: slideUp 0.3s ease; }

@keyframes slideUp { from { transform: translateY(20px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }

.modal-header { padding: 20px; border-bottom: 1px solid #eee; display: flex; justify-content: space-between; align-items: center; }
.modal-header h2 { margin: 0; font-size: 18px; color: var(--primary); display: flex; align-items: center; gap: 10px; }
.close { font-size: 28px; cursor: pointer; color: #aaa; transition: 0.2s; line-height: 1; }
.close:hover { color: var(--danger); }

.modal-body { padding: 20px; }

.form-section { margin-bottom: 25px; border: 1px solid #e9ecef; padding: 20px; border-radius: 8px; background: #fff; }
.form-section h3 { margin-top: 0; color: #495057; font-size: 15px; border-bottom: 2px solid #f0f0f0; padding-bottom: 10px; margin-bottom: 15px; text-transform: uppercase; font-weight: 700; }

.form-row { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin-bottom: 10px; }
.form-group { margin-bottom: 15px; }
.form-group label { display: block; font-size: 12px; color: #666; margin-bottom: 5px; font-weight: 600; }
.form-group input, .form-group select, .form-group textarea { width: 100%; padding: 10px; border: 1px solid #ced4da; border-radius: 6px; box-sizing: border-box; font-size: 14px; background-color: #fff; }
.form-group input:focus, .form-group select:focus, .form-group textarea:focus { border-color: var(--primary); outline: none; box-shadow: 0 0 0 3px rgba(0,86,179,0.1); }

.photo-area { margin-top: 10px; border: 2px dashed #ced4da; padding: 20px; text-align: center; border-radius: 8px; background: #f8f9fa; transition: 0.2s; }
.photo-area:hover { border-color: var(--primary); background: #f0f7ff; }

.preview-container { display: flex; gap: 10px; flex-wrap: wrap; margin-top: 15px; justify-content: center; }
.photo-wrapper { position: relative; width: 80px; height: 80px; border-radius: 6px; overflow: hidden; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
.img-preview { width: 100%; height: 100%; object-fit: cover; }
.btn-delete-photo { position: absolute; top: 2px; right: 2px; background: rgba(220, 53, 69, 0.9); color: white; border-radius: 50%; width: 20px; height: 20px; text-align: center; line-height: 18px; cursor: pointer; font-size: 12px; font-weight: bold; }

/* --- Checklist --- */
#checklist-screen { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #f4f6f8; z-index: 2000; flex-direction: column; overflow-y: auto; }
.chk-header { background: var(--primary); color: white; padding: 15px 20px; display: flex; justify-content: space-between; align-items: center; position: sticky; top: 0; z-index: 10; box-shadow: 0 4px 6px rgba(0,0,0,0.1); }
.chk-body { padding: 20px; max-width: 900px; margin: 0 auto; width: 100%; box-sizing: border-box; background: white; margin-top: 20px; border-radius: 10px; box-shadow: 0 2px 15px rgba(0,0,0,0.05); margin-bottom: 40px; }

.chk-meta-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin-bottom: 30px; background: #f8f9fa; padding: 20px; border-radius: 8px; border: 1px solid #eee; }

.check-section { background: #e9ecef; padding: 12px 15px; margin: 30px 0 10px 0; font-weight: bold; border-radius: 5px; color: var(--dark); border-left: 5px solid var(--primary); font-size: 15px; }
.chk-row { display: flex; flex-wrap: wrap; align-items: flex-start; padding: 15px 0; border-bottom: 1px solid #eee; gap: 15px; }
.chk-row:last-child { border-bottom: none; }

.chk-title { flex: 2; min-width: 250px; font-size: 14px; font-weight: 500; padding-top: 5px; }
.chk-controls { flex: 1; min-width: 180px; }
.chk-comment { flex: 1; min-width: 180px; padding: 8px; border: 1px solid #ddd; border-radius: 4px; font-size: 13px; }

.radio-group { display: flex; gap: 5px; background: #fff; padding: 4px; border-radius: 6px; border: 1px solid #ddd; width: fit-content; }
.radio-label { 
    font-size: 13px; cursor: pointer; display: flex; align-items: center; gap: 5px; padding: 6px 12px; border-radius: 4px; transition: 0.2s; 
}
.radio-label:hover { background-color: #f0f0f0; }
.radio-label input { margin: 0; }

.signature-area { margin-top: 40px; border: 1px solid #ddd; padding: 20px; border-radius: 8px; background: #fafafa; }
.signature-pad-wrapper { border: 2px dashed #bbb; height: 200px; background: #fff; position: relative; margin-top: 15px; border-radius: 5px; touch-action: none; cursor: crosshair; }
canvas { width: 100%; height: 100%; display: block; }

/* Loader Animation */
@keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

/* Responsividade Mobile */
@media (max-width: 768px) {
    .toolbar { flex-direction: column; align-items: stretch; }
    .action-buttons { flex-direction: column; }
    .btn { width: 100%; justify-content: center; }
    .modal-content { width: 100%; margin: 0; height: 100%; border-radius: 0; min-height: 100vh; }
    .chk-body { margin-top: 0; border-radius: 0; }
}
